# üîç –í–ò–°–ù–û–í–û–ö: –ß–æ–º—É Windsurf "–±–∞—á–∏—Ç—å" –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É `deep_windsurf_cleanup.sh` Windsurf –≤—Å–µ —â–µ –ø–æ–∫–∞–∑—É—î:
**"API key does not match"** –∞–±–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ª–æ–≥—ñ–Ω–∏—Ç—å –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

## –ü—Ä–∏—á–∏–Ω–∞

API –∫–ª—é—á—ñ Codeium –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ **SQLite –±–∞–∑—ñ –¥–∞–Ω–∏—Ö** `state.vscdb`, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å:

```
üìÇ ~/Library/Application Support/Windsurf/User/globalStorage/
  ‚îú‚îÄ‚îÄ state.vscdb          ‚Üê –ì–û–õ–û–í–ù–ê –ë–ê–ó–ê –î–ê–ù–ò–• –∑ API –∫–ª—é—á–∞–º–∏
  ‚îî‚îÄ‚îÄ state.vscdb.backup   ‚Üê –†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è –±–∞–∑–∏
```

### –©–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ state.vscdb

```sql
-- –†–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ –≤–∞—à–æ—ó –±–∞–∑–∏:
codeium.windsurf ‚Üí installationId, apiServerUrl
codeium.windsurf-windsurf_auth ‚Üí –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞  
codeium.windsurf-windsurf_auth- ‚Üí UUID —Å–µ—Å—ñ—ó
secret://windsurf_auth.sessions ‚Üí –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É
```

## –ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ

1. **Machine-ID** - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î –ø—Ä–∏—Å—Ç—Ä—ñ–π
2. **state.vscdb** - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î –ö–û–†–ò–°–¢–£–í–ê–ß–ê —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î API —Ç–æ–∫–µ–Ω–∏
3. –ù–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ machine-id, **—è–∫—â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑–∞–ª–∏—à–∏–ª–∞—Å—å** - Windsurf "–ø–∞–º'—è—Ç–∞—î" –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

## –†—ñ—à–µ–Ω–Ω—è

### ‚ùå –°—Ç–∞—Ä–∏–π –ø—ñ–¥—Ö—ñ–¥ (–ù–ï –ø—Ä–∞—Ü—é–≤–∞–≤)

```bash
# –í–∏–¥–∞–ª—è—î –í–°–Æ –ø–∞–ø–∫—É –æ–¥—Ä–∞–∑—É
rm -rf ~/Library/Application Support/Windsurf
# –ü–æ—Ç—ñ–º –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ (—è–∫—ñ –≤–∂–µ –Ω–µ —ñ—Å–Ω—É—é—Ç—å)
```

### ‚úÖ –ù–æ–≤–∏–π –ø—ñ–¥—Ö—ñ–¥ (–ü–†–ê–¶–Æ–Ñ)

```bash
# 1. –°–ü–û–ß–ê–¢–ö–£ –æ—á–∏—Å—Ç–∏—Ç–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–î–û —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è)
rm state.vscdb*
rm Local Storage
rm Session Storage

# 2. –ü–û–¢–Ü–ú –∑–±–µ—Ä–µ–≥—Ç–∏ —Ç—ñ–ª—å–∫–∏ machine-id (–±–µ–∑ API –¥–∞–Ω–∏—Ö)
cp machineid ‚Üí backup/

# 3. –ü—ñ–¥–º—ñ–Ω–∏—Ç–∏ machine-id –Ω–∞ –Ω–æ–≤–∏–π
echo "–Ω–æ–≤–∏–π-id" > machineid

# 4. –û—á–∏—Å—Ç–∏—Ç–∏ Keychain
security delete-generic-password -s "Codeium"

# 5. –ü–û–í–ù–Ü–°–¢–Æ –≤–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—é –ø–∞–ø–∫—É (—Ñ—ñ–Ω–∞–ª—å–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è)
rm -rf ~/Library/Application Support/Windsurf
```

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ —Å–∫—Ä–∏–ø—Ç—ñ

### –î–æ–¥–∞–Ω–æ –≤ `deep_windsurf_cleanup.sh`:

#### 1. –û—á–∏—â–µ–Ω–Ω—è –±–∞–∑ –¥–∞–Ω–∏—Ö –ü–ï–†–ï–î —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è–º (–ø—ñ—Å–ª—è –∫—Ä–æ–∫—É 7 Keychain)

```bash
# –î–û–î–ê–¢–ö–û–í–û: –û—á–∏—â–µ–Ω–Ω—è –≤—Å—ñ—Ö –±–∞–∑ –¥–∞–Ω–∏—Ö —Ç–∞ —Å—Ö–æ–≤–∏—â –î–û —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è
echo "\nüóëÔ∏è  –û—á–∏—â–µ–Ω–Ω—è –±–∞–∑ –¥–∞–Ω–∏—Ö —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Å—Ö–æ–≤–∏—â (–ø–µ—Ä–µ–¥ —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è–º)..."
safe_remove ~/Library/Application\ Support/Windsurf/User/globalStorage/state.vscdb
safe_remove ~/Library/Application\ Support/Windsurf/User/globalStorage/state.vscdb.backup
safe_remove ~/Library/Application\ Support/Windsurf/User/globalStorage/state.vscdb-shm
safe_remove ~/Library/Application\ Support/Windsurf/User/globalStorage/state.vscdb-wal
safe_remove ~/Library/Application\ Support/Windsurf/Local\ Storage
safe_remove ~/Library/Application\ Support/Windsurf/Session\ Storage
safe_remove ~/Library/Application\ Support/Windsurf/IndexedDB
safe_remove ~/Library/Application\ Support/Windsurf/databases
```

#### 2. –†–æ–∑—à–∏—Ä–µ–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è Keychain (–≤ –∫—Ä–æ—Ü—ñ 9)

```bash
# –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –º–æ–∂–ª–∏–≤–∏—Ö Codeium —Ç–æ–∫–µ–Ω—ñ–≤ –∑ Keychain
echo "üîë –í–∏–¥–∞–ª–µ–Ω–Ω—è Codeium —Ç–æ–∫–µ–Ω—ñ–≤ –∑ Keychain..."
for service in "Codeium" "codeium" "codeium.com" "api.codeium.com" "Codeium Windsurf" "codeium-windsurf"; do
    security delete-generic-password -s "$service" 2>/dev/null
    security delete-internet-password -s "$service" 2>/dev/null
    security delete-generic-password -l "$service" 2>/dev/null
done
```

#### 3. –§—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è (–≤ –∫—ñ–Ω—Ü—ñ)

```bash
# –ö–†–ò–¢–ò–ß–ù–û: –ü–æ–≤–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è Application Support/Windsurf (–ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –±–µ–∫–∞–ø—ñ–≤)
echo "\nüî• –ö–†–ò–¢–ò–ß–ù–ï –û–ß–ò–©–ï–ù–ù–Ø: –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—î—ó –ø–∞–ø–∫–∏ Application Support/Windsurf..."
safe_remove ~/Library/Application\ Support/Windsurf
```

#### 4. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ—á–∞—Ç–æ–∫ (–∫—Ä–æ–∫ 1)

```bash
# –ù–ï –≤–∏–¥–∞–ª—è—Ç–∏ Application Support/Windsurf –Ω–∞ –ø–æ—á–∞—Ç–∫—É
# –¢—ñ–ª—å–∫–∏ —ñ–Ω—à—ñ –ø–∞–ø–∫–∏:
safe_remove ~/Library/Application\ Support/windsurf  # (–º–∞–ª–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏)
safe_remove ~/Library/Preferences/Windsurf
safe_remove ~/Library/Logs/Windsurf
# ... —ñ–Ω—à—ñ –ø–∞–ø–∫–∏
```

## –ù–æ–≤–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: check_api_traces.sh

–°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—Å—ñ—Ö –º–æ–∂–ª–∏–≤–∏—Ö –º—ñ—Å—Ü—å –¥–µ –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è API:

```bash
./check_api_traces.sh
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:

```
‚úÖ –í–Ü–î–°–£–¢–ù–Ü–ô: —Ñ–∞–π–ª/–∑–∞–ø–∏—Å - —á–∏—Å—Ç–æ
‚ùå –ó–ù–ê–ô–î–ï–ù–û: —Ñ–∞–π–ª/–∑–∞–ø–∏—Å - –ø–æ—Ç—Ä—ñ–±–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è
```

## –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

```
[1/10] –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø–∞–ø–æ–∫ (–û–ö–†–Ü–ú Application Support)
[2/10] –í–∏–¥–∞–ª–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É /Applications/Windsurf.app
[3/10] –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—ñ–≤
[4/10] –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
[5/10] –û—á–∏—â–µ–Ω–Ω—è cookies
[6/10] –í–∏–¥–∞–ª–µ–Ω–Ω—è plist-—Ñ–∞–π–ª—ñ–≤
[7/10] –û—á–∏—â–µ–Ω–Ω—è Keychain (–≤–∫–ª—é—á–Ω–æ –∑ Codeium)
     ‚îî‚îÄ‚Üí –ù–û–í–ò–ô –ö–†–û–ö: –û—á–∏—â–µ–Ω–Ω—è –±–∞–∑ –¥–∞–Ω–∏—Ö –î–û —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è ‚≠ê
[8/10] –†–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è machine-id (–±–µ–∑ API –¥–∞–Ω–∏—Ö)
[9/10] –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω—å + –æ—á–∏—â–µ–Ω–Ω—è Codeium —Ç–æ–∫–µ–Ω—ñ–≤ ‚≠ê
[10/10] –ó–º—ñ–Ω–∞ hostname
     ‚îî‚îÄ‚Üí –§–Ü–ù–ê–õ–¨–ù–ï: –ü–æ–≤–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è Application Support/Windsurf ‚≠ê
```

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### –î–æ –æ—á–∏—â–µ–Ω–Ω—è:
```bash
./check_api_traces.sh
# ‚ùå –ó–ù–ê–ô–î–ï–ù–û 8 –º—ñ—Å—Ü—å –∑ API –¥–∞–Ω–∏–º–∏
```

### –û—á–∏—â–µ–Ω–Ω—è:
```bash
./deep_windsurf_cleanup.sh
```

### –ü—ñ—Å–ª—è –æ—á–∏—â–µ–Ω–Ω—è:
```bash
./check_api_traces.sh
# ‚úÖ –í–°–ï –ß–ò–°–¢–û!
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–¢–µ–ø–µ—Ä Windsurf –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ:**
- –ù–ï "–±–∞—á–∏—Ç—å" –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å
- –ù–ï –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ —Å—Ç–∞—Ä–∏—Ö API –∫–ª—é—á—ñ–≤
- –ù–ï –º–æ–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—å
- –°–ø—Ä–∏–π–º–∞—î —Å–∏—Å—Ç–µ–º—É —è–∫ –ù–û–í–û–ì–û –∫–ª—ñ—î–Ω—Ç–∞

‚úÖ **API –∫–ª—é—á—ñ Codeium:**
- –ü–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–¥–∞–ª–µ–Ω—ñ –∑ `state.vscdb`
- –û—á–∏—â–µ–Ω—ñ –∑ Keychain
- –í–∏–¥–∞–ª–µ–Ω—ñ –∑ Local/Session Storage
- –ù–ï –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±–µ–∫–∞–ø–∞—Ö

‚úÖ **–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è:**
- Machine-ID –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –±–µ–∫–∞–ø—ñ
- –ß–µ—Ä–µ–∑ 5 –≥–æ–¥–∏–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è
- –ê–õ–ï API –∫–ª—é—á—ñ –ù–ï –≤—ñ–¥–Ω–æ–≤–ª—é—é—Ç—å—Å—è (—Ü–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
